/* =========================================================
   ReadOn – estilos base (oscuro), componentes y utilidades
   ========================================================= */

/* ---------- Variables ---------- */
:root {
  --bg: #0e0f12;
  --text: #e9eaee;
  --muted: #9aa1ab;
  --card: #15171c;
  --border: #262a32;
  --shadow: 0 8px 30px rgba(0,0,0,.35);

  --primary: #d1122d;
  --primary-600: #b10f26;

  /* Alerts */
  --success-bg: #10351d;
  --success-border: #1e7f34;
  --success-text: #caf7d6;

  --warning-bg: #3d2a12;
  --warning-border: #a8670d;
  --warning-text: #ffd9a6;
}

/* ---------- Reset/estructura ---------- */
* { box-sizing: border-box; }
html, body { height: 100%; }
html { scroll-behavior: smooth; }
body {
  margin: 0;
  background: var(--bg);
  color: var(--text);
  font: 16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,"Helvetica Neue",Arial,"Apple Color Emoji","Segoe UI Emoji";
}
a { color: #7aa2ff; text-decoration: none; }
a:hover { text-decoration: underline; }

/* ---------- Layout ---------- */
.container {
  max-width: 1100px;
  margin: 0 auto;
  padding: 1.25rem;
}
h1, h2, h3 { margin: .25rem 0 1rem; letter-spacing: .2px; }
h1 { font-size: 2rem; }
h2 { font-size: 1.5rem; }
h3 { font-size: 1.125rem; }

/* ---------- Card ---------- */
.card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 1rem;
  overflow: hidden;
  box-shadow: var(--shadow);
}
.card-thumb {
  width: 100%;
  display: flex; align-items: center; justify-content: center;
  border-bottom: 1px solid var(--border);
}
.card-thumb img {
  width: 100%;
  height: 100%;
  object-fit: cover; /* llena el marco 3:4 */
}
.thumb-placeholder {
  width: 100%; height: 100%;
  display:flex; align-items:center; justify-content:center;
  color: var(--muted);
  font-size: .85rem;
}
.card-body { padding: 1rem; }
.card-body > * + * { margin-top: .6rem; } /* separación vertical suave */
.title { font-weight: 700; }
.muted { color: var(--muted); }
.meta { font-size: .9rem; color: var(--muted); }
.badge { color: #ffd166; }

/* ---------- Inputs & botones ---------- */
.input {
  appearance: none;
  display: inline-block;
  width: 100%;
  border: 1px solid var(--border);
  background: #0f1116;
  color: var(--text);
  border-radius: .6rem;
  padding: .55rem .7rem;
  outline: none;
}
.input:focus {
  border-color: #3f4a9c;
  box-shadow: 0 0 0 3px rgba(63,74,156,.15);
}

.btn {
  display: inline-flex; align-items: center; justify-content: center;
  border: 1px solid transparent;
  background: var(--primary);
  color: #fff; padding: .55rem .9rem;
  border-radius: .7rem; font-weight: 600;
  cursor: pointer; box-shadow: var(--shadow);
  transition: transform .05s ease-in, filter .15s ease-in;
  white-space: nowrap;
}
.btn:hover { filter: brightness(1.05); }
.btn:active { transform: translateY(1px); }
.btn:disabled { opacity: .6; cursor: not-allowed; }

.btn-outline {
  background: transparent;
  border-color: var(--primary);
  color: var(--primary);
}
.btn-outline:hover { background: rgba(209,18,45,.12); }

/* Fila selector de estado (evita desbordes del botón) */
.status-row {
  display: flex; gap: .6rem; align-items: center; flex-wrap: wrap;
}
.status-row .input { flex: 1 1 220px; min-width: 0; }
.status-row .btn   { flex: 0 0 auto; }

/* Acciones del form del rating */
.form-actions { display:flex; gap:.6rem; flex-wrap: wrap; }

/* ---------- Alerts ---------- */
.alert {
  padding: .8rem 1rem;
  border-radius: .7rem;
  border: 1px solid var(--border);
}
.alert-success {
  background: var(--success-bg);
  border-color: var(--success-border);
  color: var(--success-text);
}
.alert-warning {
  background: var(--warning-bg);
  border-color: var(--warning-border);
  color: var(--warning-text);
}

/* ---------- Stars (5 con medias) ---------- */
.stars {
  position: relative;
  display: inline-block;
  font-size: 1.5rem;      /* tamaño de estrellas ↑ */
  line-height: 1;
}
.stars__display,
.stars__fill { letter-spacing: 2px; }
.stars__display { color: #575a62; }   /* vacías */
.stars__fill {
  position: absolute; inset: 0;
  width: var(--p, 0%);
  color: #f5c518; overflow: hidden;
  pointer-events: none;
}
.stars__hit {
  position: absolute; inset: 0;
  display: grid; grid-template-columns: repeat(10, 1fr);
}
.stars__hit button { background: transparent; border: 0; padding: 0; cursor: pointer; }

/* ---------- Paginación (links()) ---------- */
.pagination { display:flex; gap:.4rem; align-items:center; margin-top:1rem; }
.pagination a, .pagination span {
  padding: .35rem .6rem; border-radius: .5rem;
  border: 1px solid var(--border); background: #0f1116; color: var(--text);
}
.pagination .active span {
  background: var(--primary); border-color: var(--primary); color: #fff;
}

/* ---------- Utilities (usadas en vistas) ---------- */
.block { display:block; }
.flex { display:flex; }
.items-center { align-items:center; }
.justify-center { justify-content:center; }
.gap-2 { gap:.5rem; }
.mt-2 { margin-top:.5rem; }
.mt-3 { margin-top:.75rem; }
.mb-4 { margin-bottom:1rem; }

.grid { display:grid; }
.grid-cols-1 { grid-template-columns: 1fr; }
.md\:grid-cols-2 { grid-template-columns: repeat(2,1fr); }
.lg\:grid-cols-3 { grid-template-columns: repeat(3,1fr); }
.gap-4 { gap: 1rem; }

.aspect-\[3\/4\] { aspect-ratio: 3 / 4; }
.bg-gray-100 { background: #15171c; }

.line-clamp-1 { display: -webkit-box; -webkit-line-clamp:1; -webkit-box-orient: vertical; overflow: hidden; }
.line-clamp-2 { display: -webkit-box; -webkit-line-clamp:2; -webkit-box-orient: vertical; overflow: hidden; }

/* Grid compacto para resultados de búsqueda */
.results-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(170px, 1fr));
  gap: 1rem;
}
.results-grid .card-thumb { aspect-ratio: 3 / 4; }
