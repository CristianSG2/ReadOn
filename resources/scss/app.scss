/* ==========================================================================
   THEME TOKENS (switch via <html data-theme="...">)
   Default = Lavender Dusk
   ========================================================================== */

/* Default — Lavender Dusk */
:root {
  --bg: #0b1220;
  --surface: #121a2b;
  --surface-2: #182138;
  --border: rgba(148,163,184,.25);
  --text: #e6eaf3;
  --muted: #94a3b8;
  --accent: #a78bfa;
  --accent-2: #7c3aed;
  --success: #86efac;
  --warning: #fde68a;
  --danger:  #fca5a5;
  --badge-wishlist: #94a3b8;
  --badge-reading:  #93c5fd;
  --badge-read:     #86efac;
  --badge-dropped:  #fca5a5;
}

/* Rose Slate (warm minimal) */
:root[data-theme="rose"] {
  --bg: #0f0f14;
  --surface: #15161c;
  --surface-2: #1c1d25;
  --border: rgba(156,163,175,.25);
  --text: #f3f4f6;
  --muted: #9aa2b1;
  --accent: #f4a6b0;
  --accent-2: #f97380;
  --success: #a7f3d0;
  --warning: #fcd34d;
  --danger:  #fda4af;
  --badge-wishlist: #9aa2b1;
  --badge-reading:  #93c5fd;
  --badge-read:     #a7f3d0;
  --badge-dropped:  #fda4af;
}

/* Blue Haze (cool techy) */
:root[data-theme="blue"] {
  --bg: #0a0f1a;
  --surface: #101726;
  --surface-2: #182036;
  --border: rgba(147,161,183,.25);
  --text: #e5e7eb;
  --muted: #93a1b7;
  --accent: #7dd3fc;
  --accent-2: #38bdf8;
  --success: #34d399;
  --warning: #fbbf24;
  --danger:  #ef4444;
  --badge-wishlist: #93a1b7;
  --badge-reading:  #7dd3fc;
  --badge-read:     #34d399;
  --badge-dropped:  #ef4444;
}

/* Forest Sage (green calm) */
:root[data-theme="forest"] {
  --bg: #0a1210;
  --surface: #0f1a18;
  --surface-2: #14231f;
  --border: rgba(135,164,155,.25);
  --text: #e8f1ee;
  --muted: #93b1a6;
  --accent: #8bd1b2;
  --accent-2: #66c0a0;
  --success: #86efac;
  --warning: #fcd34d;
  --danger:  #fca5a5;
  --badge-wishlist: #93b1a6;
  --badge-reading:  #86c5ff;
  --badge-read:     #86efac;
  --badge-dropped:  #fca5a5;
}

/* Mocha Cream (cozy neutral) */
:root[data-theme="mocha"] {
  --bg: #0e0c0a;
  --surface: #14110e;
  --surface-2: #1a1713;
  --border: rgba(214,188,154,.20);
  --text: #efeae3;
  --muted: #c8b8a6;
  --accent: #e7c59a;
  --accent-2: #d7b07d;
  --success: #b8e2b1;
  --warning: #f2d08b;
  --danger:  #e9a6ac;
  --badge-wishlist: #c8b8a6;
  --badge-reading:  #a7c7ff;
  --badge-read:     #b8e2b1;
  --badge-dropped:  #e9a6ac;
}

/* Teal Breeze (fresh teal) */
:root[data-theme="teal"] {
  --bg: #071316;
  --surface: #0c1b20;
  --surface-2: #11242a;
  --border: rgba(94,174,179,.25);
  --text: #e6f6f7;
  --muted: #9cc7ca;
  --accent: #5eead4;
  --accent-2: #2dd4bf;
  --success: #86efac;
  --warning: #fcd34d;
  --danger:  #fda4af;
  --badge-wishlist: #9cc7ca;
  --badge-reading:  #93c5fd;
  --badge-read:     #86efac;
  --badge-dropped:  #fda4af;
}

/* Nav: links y estado activo */
.nav-link {
  color: var(--muted);
  border-bottom: 2px solid transparent;
  transition: color .15s ease, border-color .15s ease;
}
.nav-link:hover,
.nav-link:focus {
  color: var(--text);
  border-color: color-mix(in srgb, var(--accent), transparent 70%);
}
.nav-link.active,
.nav-link[aria-current="page"] {
  color: var(--accent);
  border-color: var(--accent);
}
.theme-select {
  background: var(--surface-2);
  border: 1px solid var(--border);
  color: var(--text);
  border-radius: .5rem;
  padding: .3rem .5rem;
  font-size: .9rem;
  transition: background-color .15s ease, color .15s ease;
}

/* Selector de temas */
.theme-select:hover,
.theme-select:focus {
  border-color: var(--accent);
  outline: none;
}

/* Botones (refuerzo del mapeo para que el tema se note más) */
.btn {
  background: var(--accent);
  border: 1px solid transparent;
  color: #0b0e14;
}
.btn:hover,
.btn:focus { background: var(--accent-2); }

.btn-outline {
  background: transparent;
  border: 1px solid var(--accent);
  color: var(--text);
}
.btn-outline:hover,
.btn-outline:focus {
  background: var(--accent);
  color: #0b0e14;
}

.btn-secondary {
  background: var(--surface-2);
  border: 1px solid var(--border);
  color: var(--text);
}
.btn-secondary:hover,
.btn-secondary:focus {
  border-color: var(--accent);
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--accent), transparent 80%);
}
/* ---------------------------------
   Ajuste: botones outline con fondo temático visible
   --------------------------------- */
.btn-outline {
  background: color-mix(in srgb, var(--accent), transparent 90%);
  border: 1px solid var(--accent);
  color: var(--accent);
  transition: background-color .15s ease, color .15s ease, border-color .15s ease;
}
.btn-outline:hover,
.btn-outline:focus {
  background: var(--accent);
  color: #0b0e14;
  border-color: var(--accent-2);
}

/* Tarjetas y stats */
.card,
.stat-card {
  background: var(--surface);
  border: 1px solid var(--border);
  color: var(--text);
}

/* Tipografía y enlaces */
.muted { color: var(--muted); }
a { color: var(--accent); }
a:hover, a:focus { color: var(--accent-2); }

/* Formularios y focus ring */
.input,
select,
textarea {
  background: var(--surface-2);
  border: 1px solid var(--border);
  color: var(--text);
}
.input::placeholder,
textarea::placeholder {
  color: color-mix(in srgb, var(--muted), transparent 25%);
}
.input:focus,
select:focus,
textarea:focus {
  border-color: var(--accent-2);
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--accent), transparent 75%);
  outline: none;
}

/* Badges (ya leen tokens por variante) */
.badge { border-color: var(--border); }

/* Alerts */
.alert { border: 1px solid var(--border); }
.alert-success { background: color-mix(in srgb, var(--success), transparent 86%); color: var(--success); }
.alert-warning { background: color-mix(in srgb, var(--warning), transparent 86%); color: #f59e0b; }
.alert-danger  { background: color-mix(in srgb, var(--danger),  transparent 86%); color: var(--danger); }

/* Selección de texto y elementos nativos temables */
::selection { background: var(--accent); color: #0b0e14; }
input[type="checkbox"],
input[type="radio"],
progress { accent-color: var(--accent); }

/* Scrollbar (solo WebKit, sin romper nada) */
*::-webkit-scrollbar { width: 10px; height: 10px; }
*::-webkit-scrollbar-thumb {
  background: color-mix(in srgb, var(--accent), transparent 70%);
  border-radius: 999px;
  border: 2px solid transparent;
  background-clip: padding-box;
}
*::-webkit-scrollbar-track { background: color-mix(in srgb, var(--surface), transparent 60%); }

/* Pequeños toques de énfasis */
mark { background: color-mix(in srgb, var(--accent), transparent 80%); color: var(--text); }
hr { border-color: var(--border); }


/* Aplicación global de fondo y texto */
html, body { background: var(--bg); color: var(--text); }

/* =========================================================
   ReadOn – estilos base (oscuro), componentes y utilidades
   ========================================================= */

/* ---------- Variables ---------- */


/* ---------- Reset/estructura ---------- */
* { box-sizing: border-box; }
html, body { height: 100%; }
html { scroll-behavior: smooth; }
body {
  margin: 0;
  background: var(--bg);
  color: var(--text);
  font: 16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Noto Sans","Helvetica Neue",Arial,"Apple Color Emoji","Segoe UI Emoji";
}
a { color: #7aa2ff; text-decoration: none; }
a:hover { text-decoration: underline; }

/* ---------- Layout ---------- */
.container {
  max-width: 1100px;
  margin: 0 auto;
  padding: 1.25rem;
}
h1, h2, h3 { margin: .25rem 0 1rem; letter-spacing: .2px; }
h1 { font-size: 2rem; }
h2 { font-size: 1.5rem; }
h3 { font-size: 1.125rem; }

/* ---------- Card ---------- */
.card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: .9rem;
  overflow: hidden;
  box-shadow: var(--shadow);
  display: flex;
  flex-direction: column;
}
.card-thumb {
  position: relative;
}
.card-thumb img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  transition: transform .3s ease;
}
.card-thumb:hover img { transform: scale(1.03); }
.thumb-placeholder {
  display: grid; place-items: center;
  height: 100%; color: var(--muted); font-size: .9rem;
}
.card-body {
  padding: .9rem .9rem 1rem;
}

/* ---------- Texto/Meta ---------- */
.title { margin: 0 0 .25rem; }
.muted { color: var(--muted); }
.meta { margin: .35rem 0; font-size: .95rem; }
.badge {
  display: inline-block;
  background: #1f2430;
  color: #c7d0e0;
  border: 1px solid var(--border);
  border-radius: .5rem;
  padding: .1rem .45rem;
  font-size: .85rem;
}

/* ---------- Inputs/Buttons ---------- */
.label { display:block; font-weight: 600; margin-bottom: .25rem; }
.form-row { display:flex; gap:.6rem; align-items:center; flex-wrap: wrap; }

.input {
  width: 100%;
  border: 1px solid var(--border);
  background: #0f1116;
  color: var(--text);
  border-radius: .6rem;
  padding: .55rem .7rem;
  outline: none;
}
.input:focus {
  border-color: #3f4a9c;
  box-shadow: 0 0 0 3px rgba(63,74,156,.15);
}

.btn {
  display: inline-flex; align-items: center; justify-content: center;
  border: 1px solid transparent;
  background: var(--primary);
  color: #fff; padding: .55rem .9rem;
  border-radius: .7rem; font-weight: 600;
  cursor: pointer; box-shadow: var(--shadow);
  transition: transform .05s ease-in, filter .15s ease-in;
  white-space: nowrap;
}
.btn:hover { filter: brightness(1.05); }
.btn:active { transform: translateY(1px); }
.btn:disabled { opacity: .6; cursor: not-allowed; }

.btn-outline {
  background: transparent;
  border-color: var(--primary);
  color: var(--text);
}
.btn-secondary {
  background: #2d3343;
  border-color: #3a4155;
  color: #e3e6ef;
}

/* ---------- Utilities ---------- */
.mt-2 { margin-top: .5rem; }
.mt-3 { margin-top: .75rem; }
.mt-4 { margin-top: 1rem; }
.mb-4 { margin-bottom: 1rem; }
.block { display: block; }
.grid { display: grid; }
.grid-cols-1 { grid-template-columns: 1fr; }
.md\:grid-cols-2 { grid-template-columns: repeat(2, 1fr); }
.lg\:grid-cols-3 { grid-template-columns: repeat(3, 1fr); }
.gap-4 { gap: 1rem; }
.overflow-hidden { overflow: hidden; }

/* ---------- Alerts ---------- */
.alert {
  padding: .8rem 1rem;
  border-radius: .7rem;
  border: 1px solid var(--border);
}
.alert-success {
  background: var(--success-bg);
  border-color: var(--success-border);
  color: var(--success-text);
}
.alert-warning {
  background: var(--warning-bg);
  border-color: var(--warning-border);
  color: var(--warning-text);
}

/* ---------- Paginación ---------- */
.form-actions { display:flex; gap:.6rem; align-items:center; flex-wrap: wrap; }

/* ---------- Stars (5 con medias) ---------- */
.stars {
  position: relative;
  display: inline-block;
  font-size: 1.5rem;      /* tamaño de estrellas ↑ */
  line-height: 1;
}
.stars__display,
.stars__fill { letter-spacing: 2px; }
.stars__display { color: #575a62; }   /* vacías */
.stars__fill {
  position: absolute; inset: 0;
  width: var(--p, 0%);
  color: #f5c518; overflow: hidden;
  pointer-events: none;
}
.stars__hit {
  position: absolute; inset: 0;
  display: grid; grid-template-columns: repeat(10, 1fr);
}
.stars__hit button { background: transparent; border: 0; padding: 0; cursor: pointer; }

/* ---------- Paginación (links()) ---------- */
.pagination { display:flex; gap:.4rem; align-items:center; margin-top:1rem; }
.pagination a, .pagination span {
  padding: .35rem .6rem; border-radius: .5rem;
  border: 1px solid var(--border); background: #0f1116; color: var(--text);
}
.pagination .active span {
  background: var(--primary); border-color: var(--primary); color: #fff;
}

/* ---------- Helpers ---------- */
.aspect-\[3\/4\] { aspect-ratio: 3 / 4; }
.bg-gray-100 { background: #15171c; }

.line-clamp-1 { display: -webkit-box; -webkit-line-clamp:1; -webkit-box-orient: vertical; overflow: hidden; }
.line-clamp-2 { display: -webkit-box; -webkit-line-clamp:2; -webkit-box-orient: vertical; overflow: hidden; }

/* Grid compacto para resultados de búsqueda */
.results-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(170px, 1fr));
  gap: 1rem;
}
.results-grid .card-thumb { aspect-ratio: 3 / 4; }

/* === Reading Logs: Review UI === */
.review-snippet {
  margin-top: .25rem;
  font-size: .95rem;
  line-height: 1.35;
}

.review-form {
  margin-top: .5rem;
  padding: .75rem;
  border: 1px solid var(--border);
  border-radius: .5rem;
  background: #0f1116;
}

.review-form__label {
  display: block;
  font-weight: 600;
  margin-bottom: .35rem;
}

.review-form__textarea {
  width: 100%;
  display: block;
  padding: .5rem .6rem;
  border: 1px solid var(--border);
  border-radius: .5rem;
  resize: vertical;
  min-height: 120px;
  font-family: inherit;
  font-size: 1rem;
  background: #0b0c10;
  color: var(--text);
}

.review-form__actions {
  display: flex;
  gap: .75rem;
  align-items: center;
  margin-top: .5rem;
}

.btn.btn-link.danger {
  color: #ff6b6b;
  background: transparent;
  border: none;
  padding: 0;
}

/* === Hover Delete Button on Cover === */
.thumb-actions {
  position: absolute;
  top: .5rem;
  right: .5rem;
  opacity: 0;
  transform: translateY(-4px);
  transition: opacity .15s ease, transform .15s ease;
  z-index: 2;
}

.card:hover .thumb-actions {
  opacity: 1;
  transform: translateY(0);
}

.btn-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 34px;
  height: 34px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: rgba(14, 15, 18, 0.75);
  color: #e9eaee;
  font-size: 20px;
  line-height: 1;
  cursor: pointer;
  box-shadow: var(--shadow);
  backdrop-filter: blur(2px);
}

.btn-icon:hover {
  filter: brightness(1.1);
}

.btn-danger {
  border-color: #5b1f24;
  background: rgba(177, 15, 38, 0.85);
}
.btn-danger:hover {
  background: rgba(177, 15, 38, 1);
}

/* ===== Profile (/me) ===== */
.stats-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: .8rem; }
.stat-card { background: var(--card); border: 1px solid var(--border); border-radius: .8rem; padding: .8rem; }
.stat-label { color: var(--muted); font-size: .9rem; }
.stat-value { font-size: 1.4rem; font-weight: 700; margin-top: .2rem; }
.recent-list { list-style: none; padding: 0; margin: .5rem 0 0; }
.recent-item { padding: .55rem .65rem; border: 1px solid var(--border); border-radius: .6rem; background: #0f1116; margin-bottom: .5rem; }
.recent-title { font-weight: 600; color: #e9eaee; }
.recent-meta { margin-left: .4rem; font-size: .95rem; }
/* micro-UX */
.stat-card {
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
}
.stat-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 24px rgba(0,0,0,.35);
  border-color: #2d3343;
}

.recent-item {
  transition: background .15s ease, border-color .15s ease, transform .15s ease;
}
.recent-item:hover {
  background: #12141a;
  border-color: #323646;
  transform: translateY(-1px);
}

/* === NAVBAR GLOBAL (tema oscuro) ========================================= */
/* Nota: Se añade al final para no romper estilos previos. */


.site-nav {
  position: fixed;
  top: 0; left: 0; right: 0;
  height: var(--nav-h);
  background: var(--nav-bg);
  border-bottom: 1px solid var(--nav-border);
  z-index: 1000;
}

.nav {
  height: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 16px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

.nav__brand {
  font-weight: 700;
  text-decoration: none;
  color: var(--nav-link-hover);
  letter-spacing: .2px;
}

.nav__toggle {
  display: none; /* visible en mobile en el breakpoint */
  height: 36px;
  padding: 0 10px;
  border: 1px solid var(--nav-border);
  background: transparent;
  color: var(--nav-link);
  border-radius: 8px;
  cursor: pointer;
}

.nav__links {
  display: flex;
  align-items: center;
  gap: 8px;
}

.nav__link {
  display: inline-flex;
  align-items: center;
  height: 36px;
  padding: 0 12px;
  border-radius: 8px;
  text-decoration: none;
  color: var(--nav-link);
  border: 1px solid transparent;
  transition: border-color .15s ease, background-color .15s ease, color .15s ease;
}

.nav__link:hover,
.nav__link:focus {
  color: var(--nav-link-hover);
  border-color: var(--nav-border);
  outline: none;
}

.nav__logout-form {
  display: inline-flex;
}

.nav__logout {
  background: transparent;
  border: 1px solid transparent;
  cursor: pointer;
  font: inherit;
}

/* Estado activo (también se marca aria-current="page") */
.nav__link.is-active {
  color: var(--nav-link-hover);
  box-shadow: inset 0 -2px 0 var(--nav-active-underline);
}

/* Offset del body para que no quede oculto bajo el nav fijo */
body {
  padding-top: calc(var(--nav-h) + 5px);
}

/* === Responsive simple ==================================================== */
@media (max-width: 768px) {
  .nav {
    gap: 6px;
  }
  .nav__toggle {
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }
  .nav__links {
    /* por defecto oculto en móvil (usa data-open=1 para mostrar) */
    position: absolute;
    top: var(--nav-h);
    left: 0; right: 0;
    background: var(--nav-bg);
    border-bottom: 1px solid var(--nav-border);
    padding: 8px;
    display: none;
    flex-direction: column;
    align-items: stretch;
    gap: 6px;
  }
  .nav__links[data-open="1"] {
    display: flex;
  }
  .nav__link {
    height: 40px;
    padding: 0 14px;
  }
}

/* ------------------------------
   Badges de estado (reading logs)
   ------------------------------ */

/* Base */
.badge {
  display: inline-block;
  padding: .2rem .5rem;
  border-radius: .5rem;
  font-size: .75rem;         /* ~12px */
  font-weight: 600;
  letter-spacing: .2px;
  line-height: 1;
  border: 1px solid transparent;
  user-select: none;
  vertical-align: middle;
  transition: color .15s ease, background-color .15s ease, border-color .15s ease, transform .15s ease; /* micro-UX */
}

/* Variantes por estado */
.badge--wishlist {
  color: #cbd5e1;            /* gris claro */
  background-color: rgba(148, 163, 184, .15); /* slate-400 con opacidad */
  border-color: rgba(148, 163, 184, .35);
}

.badge--reading {
  color: #93c5fd;            /* azul claro */
  background-color: rgba(59, 130, 246, .15);
  border-color: rgba(59, 130, 246, .35);
}

.badge--read {
  color: #86efac;            /* verde claro */
  background-color: rgba(34, 197, 94, .15);
  border-color: rgba(34, 197, 94, .35);
}

.badge--dropped {
  color: #fca5a5;            /* rojo suave */
  background-color: rgba(239, 68, 68, .15);
  border-color: rgba(239, 68, 68, .35);
}

/* Feedback sutil al hover/focus (si son clicables en el futuro no desentona) */
.badge:hover,
.badge:focus {
  transform: translateY(-1px);
}

/* ------------------------------
   Empty states (mensajes sin contenido)
   ------------------------------ */
.empty-state {
  text-align: center;
  padding: 3rem 1rem;
  border: 1px dashed rgba(148,163,184,.35); /* slate-400 */
  border-radius: 1rem;
  background: rgba(2,6,23,.25);            /* fondo oscuro sutil */
  max-width: 640px;
  margin: 2rem auto;
}

.empty-state__icon {
  font-size: 2.25rem; /* ~36px */
  line-height: 1;
  margin-bottom: .5rem;
  opacity: .9;
}

.empty-state__title {
  font-size: 1.25rem;
  margin: .25rem 0 .5rem;
  font-weight: 700;
  color: #f1f5f9; /* texto principal en oscuro */
}

.empty-state__text {
  color: #94a3b8; /* slate-400 */
  margin: 0 0 1rem;
}

.empty-state__cta {
  margin-top: .25rem;
}

/* ------------------------------
   Transiciones suaves (micro-UX)
   ------------------------------ */

/* Regla global: suaviza todos los cambios de color, fondo, borde y transform */
*, *::before, *::after {
  transition: color .15s ease, background-color .15s ease,
              border-color .15s ease, box-shadow .15s ease, transform .15s ease;
}

/* Botones: sutil levantamiento y sombra */
.btn {
  transition: all .2s ease;
  &:hover,
  &:focus {
    transform: translateY(-1px);
    box-shadow: 0 2px 6px rgba(0, 0, 0, .25);
  }
}

/* Botones con borde (outline) */
.btn-outline {
  transition: all .2s ease;
  &:hover,
  &:focus {
    background-color: rgba(139, 92, 246, .1); /* violeta tenue */
    transform: translateY(-1px);
  }
}

/* Tarjetas: elevación ligera al pasar el ratón */
.card {
  transition: all .2s ease;
  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, .25);
  }
}

/* Inputs y selects: halo violeta al enfocar */
.input,
select,
textarea {
  transition: border-color .2s ease, box-shadow .2s ease;
  &:focus {
    border-color: #a78bfa; /* violeta claro */
    box-shadow: 0 0 0 2px rgba(167, 139, 250, .25);
  }
}

/* ===========================================================
   Themed extensions — acentos más visibles por tema
   =========================================================== */

/* Nav: activo bien marcado con subrayado temático */
.nav {
  border-bottom: 1px solid var(--border);
}
.nav-link {
  color: var(--muted);
  border-bottom: 2px solid transparent;
  text-decoration: none;
  transition: color .15s ease, border-color .15s ease;
}
.nav-link:hover,
.nav-link:focus {
  color: var(--text);
  border-color: color-mix(in srgb, var(--accent), transparent 70%);
}
.nav-link.active,
.nav-link[aria-current="page"] {
  color: var(--accent);
  border-color: var(--accent);
  text-underline-offset: 6px; /* si el UA decide pintar subrayado, que quede bonito */
}

/* Stat-cards: línea de acento + halo suave al hover */
.stat-card {
  position: relative;
  background: var(--surface);
  border: 1px solid var(--border);
  color: var(--text);
  overflow: hidden;
}
.stat-card::before {
  content: "";
  position: absolute;
  inset-inline: 0;
  top: 0;
  height: 3px;
  background: var(--accent);
  opacity: .9;
}
.stat-card:hover {
  box-shadow: 0 6px 18px color-mix(in srgb, var(--accent), transparent 82%);
  transform: translateY(-1px);
}

/* Botones por tipo (success / warning / danger) */
.btn-success {
  background: var(--success);
  color: #0b0e14;
  border: 1px solid transparent;
}
.btn-success:hover,
.btn-success:focus { filter: brightness(.95); }

.btn-warning {
  background: var(--warning);
  color: #0b0e14;
  border: 1px solid transparent;
}
.btn-warning:hover,
.btn-warning:focus { filter: brightness(.95); }

.btn-danger {
  background: var(--danger);
  color: #0b0e14;
  border: 1px solid transparent;
}
.btn-danger:hover,
.btn-danger:focus { filter: brightness(.95); }

/* Paginación (Laravel) */
.pagination {
  display: flex;
  gap: .25rem;
  align-items: center;
}
.page-link {
  display: inline-block;
  padding: .4rem .7rem;
  border: 1px solid var(--border);
  border-radius: .5rem;
  background: var(--surface);
  color: var(--text);
  text-decoration: none;
  transition: background-color .15s ease, border-color .15s ease, color .15s ease;
}
.page-link:hover {
  border-color: var(--accent);
}
.page-item.active .page-link {
  background: var(--accent);
  border-color: var(--accent);
  color: #0b0e14;
}

/* Tablist genérico (si lo usara en alguna vista) */
.tabs {
  display: flex;
  gap: .75rem;
  border-bottom: 1px solid var(--border);
}
.tabs a {
  padding: .5rem 0;
  color: var(--muted);
  border-bottom: 2px solid transparent;
  text-decoration: none;
}
.tabs a:hover { color: var(--text); }
.tabs a.active {
  color: var(--accent);
  border-color: var(--accent);
}

/* Tablas: cabecera diferenciada y zebra suave */
.table {
  width: 100%;
  border-collapse: collapse;
  border: 1px solid var(--border);
}
.table th,
.table td {
  border-top: 1px solid var(--border);
  padding: .6rem .75rem;
}
.table th {
  background: var(--surface-2);
  color: var(--muted);
  text-align: left;
}
.table tbody tr:nth-child(odd) {
  background: color-mix(in srgb, var(--surface), transparent 90%);
}
.table tbody tr:hover {
  background: color-mix(in srgb, var(--accent), transparent 94%);
}

/* Títulos de sección: subrayado temático sutil */
.section-title {
  display: inline-block;
  margin: 0 0 .5rem 0;
  padding-bottom: .25rem;
  border-bottom: 2px solid color-mix(in srgb, var(--accent), transparent 70%);
}

/* Enlaces utilitarios */
.link-muted { color: var(--muted); }
.link-muted:hover { color: var(--text); }
.link-accent { color: var(--accent); }
.link-accent:hover { color: var(--accent-2); }

/* Inputs disabled / readonly con contraste claro */
:where(input, select, textarea):disabled {
  opacity: .65;
  cursor: not-allowed;
}
:where(input, select, textarea)[readonly] {
  background: color-mix(in srgb, var(--surface-2), transparent 10%);
}

/* Badges: aseguro borde y contraste en todos los temas */
.badge {
  border: 1px solid var(--border);
}

/* Pequeños utilitarios */
.border-accent { border-color: var(--accent) !important; }
.bg-surface   { background: var(--surface) !important; }
.bg-surface-2 { background: var(--surface-2) !important; }
.text-accent  { color: var(--accent) !important; }
.text-muted   { color: var(--muted) !important; }

/* ===========================================================
   Deep theming pass — más coherencia visual por tema
   =========================================================== */

/* Botón secundario (por ej. review-toggle) ahora usa color del tema también */
.btn-secondary,
.review-toggle {
  background: color-mix(in srgb, var(--accent), transparent 85%);
  color: var(--accent);
  border: 1px solid color-mix(in srgb, var(--accent), transparent 70%);
  transition: background-color .15s ease, color .15s ease, border-color .15s ease;
}
.btn-secondary:hover,
.btn-secondary:focus,
.review-toggle:hover,
.review-toggle:focus {
  background: var(--accent);
  color: #0b0e14;
  border-color: var(--accent-2);
}

/* Inputs y selects: fondo teñido del tema, más integrados */
.input,
select,
textarea {
  background: color-mix(in srgb, var(--surface-2), var(--accent) 6%);
  border: 1px solid color-mix(in srgb, var(--accent), transparent 70%);
  color: var(--text);
  transition: border-color .2s ease, box-shadow .2s ease, background-color .2s ease;
}
.input:focus,
select:focus,
textarea:focus {
  border-color: var(--accent);
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--accent), transparent 70%);
  background: color-mix(in srgb, var(--surface-2), var(--accent) 12%);
}

/* Listados recientes y cajas pequeñas: más cohesión */
.recent-list {
  background: color-mix(in srgb, var(--surface-2), var(--accent) 5%);
  border: 1px solid color-mix(in srgb, var(--accent), transparent 80%);
  border-radius: .75rem;
  padding: 1rem 1.25rem;
}
.recent-item {
  padding: .4rem 0;
  border-bottom: 1px solid color-mix(in srgb, var(--accent), transparent 85%);
  transition: background-color .15s ease;
}
.recent-item:last-child { border-bottom: none; }
.recent-item:hover {
  background: color-mix(in srgb, var(--accent), transparent 92%);
}
.recent-title {
  color: var(--accent);
  font-weight: 600;
}

/* Espaciados (mt-4, mt-2, etc.) con más aire temático */
.mt-4,
.mt-2,
.mt-3 {
  scroll-margin-top: 4rem;
}
.mt-4::before,
.mt-3::before,
.mt-2::before {
  content: "";
  display: block;
  height: 0;
  border-top: 1px solid color-mix(in srgb, var(--accent), transparent 85%);
  margin-bottom: .5rem;
}

/* Formularios de reseña (review-form) y acciones */
.review-form__inner {
  border: 1px solid color-mix(in srgb, var(--accent), transparent 70%);
  border-radius: .5rem;
  background: color-mix(in srgb, var(--surface-2), var(--accent) 8%);
  padding: .75rem 1rem;
}
.review-form__actions .btn-link.danger {
  color: var(--danger);
}
.review-form__actions .btn-link.danger:hover {
  color: color-mix(in srgb, var(--danger), transparent 30%);
}

/* Empty states unificados con el tema */
.empty-state {
  border-color: color-mix(in srgb, var(--accent), transparent 70%);
  background: color-mix(in srgb, var(--surface), var(--accent) 5%);
}
.empty-state__icon { color: var(--accent); }
.empty-state__title { color: var(--text); }
.empty-state__text { color: var(--muted); }
.empty-state__cta {
  background: var(--accent);
  border: none;
  color: #0b0e14;
}
.empty-state__cta:hover { background: var(--accent-2); }

/* Elementos pequeños: hr, muted text, labels */
hr { border-color: color-mix(in srgb, var(--accent), transparent 80%); }
.label { color: color-mix(in srgb, var(--accent), transparent 25%); font-weight: 600; }
.muted { color: color-mix(in srgb, var(--muted), transparent 10%); }

/* Hover general de tarjetas y cajas pequeñas */
.card:hover,
.stat-card:hover,
.recent-item:hover {
  box-shadow: 0 4px 14px color-mix(in srgb, var(--accent), transparent 88%);
  transform: translateY(-1px);
}
/* ---------------------------------
   Títulos de libro en reading-logs
   --------------------------------- */
.title {
  color: color-mix(in srgb, var(--accent), var(--text) 25%);
  font-weight: 600;
  transition: color .15s ease;
}
.title.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}
a:hover .title,
a:focus .title {
  color: var(--accent);
}
/* ---------------------------------
   Autor en reading-logs (muted.line-clamp-1)
   --------------------------------- */
.muted.line-clamp-1 {
  color: color-mix(in srgb, var(--accent), var(--muted) 70%);
  font-weight: 500;
  transition: color .15s ease, opacity .15s ease;
}
.card:hover .muted.line-clamp-1 {
  color: color-mix(in srgb, var(--accent), var(--muted) 50%);
  opacity: .95;
}

/* Nav tools (contenedor a la derecha del nav) */
.nav { display: flex; align-items: center; gap: 1rem; }
.nav__links { display: flex; align-items: center; gap: .75rem; flex-wrap: wrap; }
.nav__tools {
  margin-left: auto; display: inline-flex; align-items: center; gap: .5rem;
  padding-left: .5rem; border-left: 1px solid var(--border);
}
.nav__tools-label {
  font-size: .85rem; color: var(--muted);
}

/* Selector con tema */
.theme-select {
  background: var(--surface-2);
  border: 1px solid var(--border);
  color: var(--text);
  border-radius: .5rem;
  padding: .3rem .5rem;
  font-size: .9rem;
  transition: background-color .15s ease, color .15s ease, border-color .15s ease;
}
.theme-select:hover, .theme-select:focus {
  border-color: var(--accent);
  outline: none;
}

/* Responsive: en móviles, quitar borde separador y apilar mejor */
@media (max-width: 640px) {
  .nav__tools { margin-left: 0; border-left: 0; padding-left: 0; }
}
